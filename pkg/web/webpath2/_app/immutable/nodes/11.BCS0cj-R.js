import{X as G,p as H,a as J,f as L,y as K,c as N,t as D,Y as U,d as g,e as V,P as ee,w as se,W as i,j as t,Z as w,k as I,D as s,g as ae,C as q,i as m,O as te,_ as C,Q as re,F as a,n as ie,a0 as le,a1 as oe,R as ne}from"../chunks/DP9-rN22.js";import{L as de}from"../chunks/C809bX2A.js";import{I as fe}from"../chunks/mrCXMKbp.js";import{B as ce}from"../chunks/BQ24xIRK.js";import{c as ve}from"../chunks/D_N-Uuvj.js";import{a as ue,A as pe}from"../chunks/rPupsha6.js";import{a as me}from"../chunks/Dcjaah1X.js";var ge=L("<!> <!>",1),_e=L('<div><form><div class="flex flex-col gap-6"><div class="flex flex-col items-center gap-2"><a href="/" class="flex flex-col items-center gap-2 font-medium"><div class="flex size-8 items-center justify-center rounded-md"><!></div> <span class="sr-only">Afrog Security.</span></a> <h1 class="text-xl font-bold">Afrog Security.</h1> <div class="text-center text-sm"> </div></div> <div class="flex flex-col gap-6"><div class="grid gap-3"><!></div> <!></div></div></form></div>');function xe(_,l){const v=G();H(l,!0);const[x,E]=ee(),o=()=>te(re,"$t",x);let k=J(l,"ref",15,null),F=se(l,["$$slots","$$events","$$legacy","ref","class"]),u=w(""),f=w(!1),n=w("");async function M(e){if(e.preventDefault(),!t(u).trim()){i(n,o()("please_enter_password"),!0);return}i(f,!0),i(n,"");try{const r=await ue.login(t(u));r.success?(me.setToken(r.token),ne("/",{replaceState:!0})):(i(n,r.message||o()("login_failed"),!0),i(n,o()("login_failed"),!0))}catch(r){r instanceof pe?i(n,r.message,!0):i(n,o()("login_failed"),!0)}finally{i(f,!1)}}var c=_e();K(c,e=>({class:e,...F}),[()=>ve("flex flex-col gap-6",l.class)]);var $=s(c),A=s($),h=s(A),y=s(h),j=s(y),O=s(j);de(O,{class:"size-"}),a(j),ie(2),a(y);var z=m(y,4),Q=s(z,!0);a(z),a(h);var P=m(h,2),b=s(P),R=s(b);{let e=I(()=>t(n)?"true":void 0),r=I(()=>o()("please_enter_password"));fe(R,{get"aria-invalid"(){return t(e)},get id(){return`password-${v}`},type:"password",required:!0,get disabled(){return t(f)},get placeholder(){return t(r)},get value(){return t(u)},set value(p){i(u,p,!0)}})}a(b);var T=m(b,2);ce(T,{type:"submit",class:"w-full",get disabled(){return t(f)},children:(e,r)=>{var p=ge(),S=ae(p);{var W=d=>{le(d,{class:"size-4 animate-spin"})};q(S,d=>{t(f)&&d(W)})}var X=m(S,2);{var Y=d=>{var B=oe();D(Z=>C(B,Z),[()=>o()("login")]),g(d,B)};q(X,d=>{t(f)||d(Y)})}g(e,p)},$$slots:{default:!0}}),a(P),a(A),a($),a(c),N(c,e=>k(e),()=>k()),D(e=>C(Q,e),[()=>o()("login_tip")]),U("submit",$,M),g(_,c),V(),E()}var $e=L('<div class="flex min-h-svh flex-col items-center justify-center gap-6 bg-background p-6 md:p-10"><div class="w-full max-w-sm"><!></div></div>');function je(_){var l=$e(),v=s(l),x=s(v);xe(x,{}),a(v),a(l),g(_,l)}export{je as component};
