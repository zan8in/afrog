import{a0 as Q,p as R,a as U,f as L,v as W,c as X,t as I,a1 as Y,d as g,e as Z,N as ee,w as ae,V as i,j as t,a2 as w,k as M,K as a,g as se,y as q,i as m,M as te,a3 as D,O as re,L as s,n as ie,a4 as le,a5 as oe,P as ne}from"../chunks/D4cyIAOc.js";import{L as de}from"../chunks/C3yqbM1F.js";import{I as fe}from"../chunks/D5JYckiF.js";import{B as ce,c as ve}from"../chunks/DGXkGyla.js";import{a as ue,A as pe}from"../chunks/IBoLXy8H.js";import{a as me}from"../chunks/BbW0iGtY.js";var ge=L("<!> <!>",1),_e=L('<div><form><div class="flex flex-col gap-6"><div class="flex flex-col items-center gap-2"><a href="/" class="flex flex-col items-center gap-2 font-medium"><div class="flex size-8 items-center justify-center rounded-md"><!></div> <span class="sr-only">Afrog Security.</span></a> <h1 class="text-xl font-bold">Afrog Security.</h1> <div class="text-center text-sm"> </div></div> <div class="flex flex-col gap-6"><div class="grid gap-3"><!></div> <!></div></div></form></div>');function xe(_,l){const v=Q();R(l,!0);const[x,E]=ee(),o=()=>te(re,"$t",x);let k=U(l,"ref",15,null),K=ae(l,["$$slots","$$events","$$legacy","ref","class"]),u=w(""),f=w(!1),n=w("");async function N(e){if(e.preventDefault(),!t(u).trim()){i(n,o()("please_enter_password"),!0);return}i(f,!0),i(n,"");try{const r=await ue.login(t(u));r.success?(me.setToken(r.token),ne("/",{replaceState:!0})):(i(n,r.message||o()("login_failed"),!0),i(n,o()("login_failed"),!0))}catch(r){r instanceof pe?i(n,r.message,!0):i(n,o()("login_failed"),!0)}finally{i(f,!1)}}var c=_e();W(c,e=>({class:e,...K}),[()=>ve("flex flex-col gap-6",l.class)]);var $=a(c),A=a($),h=a(A),y=a(h),j=a(y),O=a(j);de(O,{class:"size-"}),s(j),ie(2),s(y);var z=m(y,4),T=a(z,!0);s(z),s(h);var P=m(h,2),b=a(P),V=a(b);{let e=M(()=>t(n)?"true":void 0),r=M(()=>o()("please_enter_password"));fe(V,{get"aria-invalid"(){return t(e)},get id(){return`password-${v}`},type:"password",required:!0,get disabled(){return t(f)},get placeholder(){return t(r)},get value(){return t(u)},set value(p){i(u,p,!0)}})}s(b);var C=m(b,2);ce(C,{type:"submit",class:"w-full",get disabled(){return t(f)},children:(e,r)=>{var p=ge(),S=se(p);{var F=d=>{le(d,{class:"size-4 animate-spin"})};q(S,d=>{t(f)&&d(F)})}var G=m(S,2);{var H=d=>{var B=oe();I(J=>D(B,J),[()=>o()("login")]),g(d,B)};q(G,d=>{t(f)||d(H)})}g(e,p)},$$slots:{default:!0}}),s(P),s(A),s($),s(c),X(c,e=>k(e),()=>k()),I(e=>D(T,e),[()=>o()("login_tip")]),Y("submit",$,N),g(_,c),Z(),E()}var $e=L('<div class="bg-background flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10"><div class="w-full max-w-sm"><!></div></div>');function Ae(_){var l=$e(),v=a(l),x=a(v);xe(x,{}),s(v),s(l),g(_,l)}export{Ae as component};
