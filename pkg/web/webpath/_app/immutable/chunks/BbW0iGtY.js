import{a8 as s,a2 as c,a9 as i,V as o,j as u}from"./D4cyIAOc.js";const n="jwt_token";function d(e){localStorage.setItem(n,e)}function f(){return localStorage.getItem(n)}function k(){localStorage.removeItem(n)}function a(){const e=f();if(!e)return!1;try{return!(s(e).exp*1e3<Date.now())}catch(r){return console.error("Invalid token:",r),!1}}let t=c(i(a()));function l(e){d(e),o(t,!0)}function g(){k(),o(t,!1)}const p={get authenticated(){return u(t)},setToken:l,removeToken:g};window.addEventListener("storage",e=>{e.key==="jwt_token"&&o(t,a(),!0)});export{p as a,f as g};
